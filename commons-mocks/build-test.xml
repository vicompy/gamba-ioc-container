<?xml version="1.0"?>
<project name="gamba-stubs-ant-build" default="test" basedir=".">

	<property name="artifact" value="gamba-stubs" />
	<property name="version" value="0.0.1" />


	<property name="src-dir" value="src/main/java" />
	<property name="test-dir" value="src/test/java" />
	<property name="tmp-dir" value="temp" />

	<!--
	<property name="jar-dir" value="target" />
	<property name="build-dir" value="target/classes" />
-->
	<property name="jar-dir" value="ant-builds/test" />
	<property name="build-dir" value="ant-builds/test" />

	<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<!-- goal: clean               -->
	<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<target name="clean">
		<delete dir="${jar-dir}" />
		<mkdir dir="${build-dir}" />
	</target>

	<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<!-- goal: compile             -->
	<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<target name="compile" depends="clean">
		<javac srcdir="${src-dir}" destdir="${build-dir}" />
		<javac srcdir="${test-dir}" destdir="${build-dir}" />
	</target>


	<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<!-- goal: test                -->
	<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<target name="test" depends="compile">
		<junit>
			<classpath refid="classpath.test" />
			<formatter type="brief" usefile="false" />
			<batchtest>
				<fileset dir="${build-dir}" includes="org/*/Test*.class" />
			</batchtest>
		</junit>
	</target>

</project>

